(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{3112:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(5893),l=n(7294),r=n(8342),s=n(4651),o=n(2748),i=n.n(o),c=n(8901),u=n.n(c);function d(e){var t=e.show,n=e.title,l=e.message;return t?(0,a.jsx)("div",{className:u().backdrop,children:(0,a.jsxs)("div",{className:"p-4 mb-2 max-w-sm ring-1 ring-yellow-700 rounded-md bg-white text-center grid place-items-center gap-y-2",children:[(0,a.jsx)("h1",{className:"text-lg bg-yellow-500 rounded-lg p-2 text-yellow-50",children:n}),(0,a.jsx)("span",{children:l})]})}):(0,a.jsx)(a.Fragment,{})}function p(){var e,t=(0,l.useContext)(r.globalContext),n=(0,l.useState)(!1),o=n[0],c=n[1],u=(0,l.useState)(),p=u[0],m=u[1],v=(0,l.useState)(),f=v[0],x=v[1],y=(0,l.useState)({active:!1,player:void 0}),h=y[0],g=y[1],_=(0,l.useState)(!1),w=_[0],j=_[1],b=(0,l.useState)(0),N=b[0],k=b[1],C=(0,l.useState)(30),P=C[0],S=C[1],T=(0,l.useState)(!1),q=T[0],M=T[1],E=(0,l.useState)({show:!1,title:"",message:""}),V=E[0],O=E[1],B=(0,l.useState)(),z=B[0],A=B[1],R=(0,l.useState)(!1),L=R[0],X=R[1],F=(0,s.useRouter)(),D=function e(){t.questions.every((function(e){return e.used}))&&t.questions.forEach((function(e){return e.used=!1})),c(!1),c(!0);var n=t.questions&&t.questions.filter((function(e){return!e.used}));console.log(n);var a=Math.floor(Math.random()*n.length);x(n[a]),n[a].use(),t.update(),clearTimeout(z),A(setTimeout((function(){e()}),1e4))};(0,l.useEffect)((function(){var e;return t.players&&2===t.players.length&&t.players.every((function(e){return e.name}))||(console.log("123"),F.replace("/")),c(!0),(null===(e=t.questions)||void 0===e?void 0:e.length)>0&&D(),S(1+10*Math.floor(3*Math.random())),function(){clearTimeout(z),A(null)}}),[]);return(0,a.jsxs)("div",{className:"relative w-full min-h-screen p-0 grid place-items-center bg-black",children:[(0,a.jsx)(d,{show:V.show,title:V.title,message:V.message}),h.active?(0,a.jsxs)("div",{className:"h-screen flex items-center flex-col justify-between pb-10 "+(t.players&&t.players.indexOf(h.player)<1?"transform rotate-180":""),children:[(0,a.jsx)("div",{className:i().pipet}),(0,a.jsx)("div",{className:"".concat(i().drop," ").concat(w&&i().dropp)}),(0,a.jsx)("div",{className:"".concat(i().erlenmeyer," ").concat(L&&"!bg-purple-400"),children:(0,a.jsx)("div",{className:i().liquid,style:{height:50+N}})}),(0,a.jsx)("button",{onClick:function(){return j(!0),void setTimeout((function(){k(N+10),j(!1),console.log(h.player),N>=P?(X(!0),setTimeout((function(){var e=t.players&&t.players.find((function(e,n){return n!==(t.players&&t.players.indexOf(h.player))}));O({show:!0,title:"Jogo finalizado",message:"O jogador ".concat(null===e||void 0===e?void 0:e.name," ganhou")})}),700)):setTimeout((function(){g({active:!1,player:void 0}),m(null),M(!1),c(!0),clearTimeout(z),D()}),500)}),600)},className:"overflow-hidden grid place-items-center transition-colors px-8 bottom-20 py-4 bg-yellow-400 hover:bg-yellow-500 text-yellow-800 rounded-lg",children:(0,a.jsxs)("span",{className:"relative flex gap-x-4 justify-center items-center",children:["Despejar",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})})]}):(0,a.jsx)("div",{className:"absolute min-h-screen flex flex-col justify-center items-center",children:null===(e=t.players)||void 0===e?void 0:e.map((function(e,n){return(0,a.jsxs)("div",{className:"".concat(i().playerBox," transition-opacity ").concat(p&&p!==n+1&&"opacity-10"),children:[(0,a.jsxs)("div",{className:"min-w-full p-4 mb-2 max-w-sm ring-1 ring-yellow-700 rounded-md bg-white",children:[(0,a.jsx)("p",{className:"text-gray-500 text-justify",children:null===f||void 0===f?void 0:f.question}),(0,a.jsx)("div",{className:"mt-2 flex flex-col gap-y-2",children:null===f||void 0===f?void 0:f.alternatives.map((function(e,l){return(0,a.jsx)("div",{onClick:function(){return function(e,n){o||q||(M(!0),setTimeout((function(){g({active:!0,player:e!==(null===f||void 0===f?void 0:f.answer)?t&&t.players&&t.players.length>0&&t.players[n]||void 0:t&&t.players&&t.players.length>0&&t.players.some((function(e,t){return t!==n}))&&t.players.find((function(e,t){return t!==n}))}),console.log(e,null===f||void 0===f?void 0:f.answer)}),2e3))}(l+1,n)},className:"w-full bg-gray-100 p-2 rounded-sm border-2 ".concat(p&&p===n+1&&"hover:bg-gray-200 cursor-pointer"," ").concat(q&&(l+1===f.answer?"border-green-500":"border-red-500")),children:e},l+1)}))})]}),(0,a.jsx)("span",{className:"label",children:e.name}),(0,a.jsxs)("button",{onClick:function(){return e=n+1,void(p||(m(e),c(!1),clearTimeout(z),A(null)));var e},className:"".concat(i().button," flex gap-x-4 justify-center items-center"),children:[(0,a.jsxs)("span",{className:"relative flex gap-x-4 justify-center items-center",children:["Responder",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"relative h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9 3a1 1 0 012 0v5.5a.5.5 0 001 0V4a1 1 0 112 0v4.5a.5.5 0 001 0V6a1 1 0 112 0v5a7 7 0 11-14 0V9a1 1 0 012 0v2.5a.5.5 0 001 0V4a1 1 0 012 0v4.5a.5.5 0 001 0V3z",clipRule:"evenodd"})})]}),o&&(0,a.jsx)("div",{className:i().buttonAnimatedCircle})]})]},n)}))})]})}},1634:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play",function(){return n(3112)}])},8901:function(e){e.exports={backdrop:"Modal_backdrop__Gk3Mu",appear:"Modal_appear__F_2bj"}},2748:function(e){e.exports={playerBox:"Play_playerBox__29zKq",button:"Play_button__29VmA",buttonAnimatedCircle:"Play_buttonAnimatedCircle__2zi91",expand:"Play_expand__1Z809",erlenmeyer:"Play_erlenmeyer__16SUg",pipet:"Play_pipet__1O1Eg",drop:"Play_drop__99u3X",dropp:"Play_dropp__3em86",dropw:"Play_dropw__L1No2",liquid:"Play_liquid__2QdYx"}}},function(e){e.O(0,[774,888,179],(function(){return t=1634,e(e.s=t);var t}));var t=e.O();_N_E=t}]);